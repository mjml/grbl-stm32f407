
system:
  reset:             E1
  cycle_start:       E0
  feed_hold:         E3
  safety_door:       E2

probes:
  atc_tool_length:   B4 
  contact:           B3

# This is just a flat list of the axis names.
axes:
  - "x"
  - "y"
  - "z"
  - "a"
  - "b"

# Each entry in this list is a map containing an axis and some pin names as keys followed by a pin definition:
#   axis: A reference to one of the axes given in the axes section, given above.
#         Note that this allows you to specify several steppers for the same axis.
#   pul: The stepper pulse output pin
#   dir: The stepper direction output pin
#   ena: The stepper enable output pin
#   alm: (Optional) A stepper alarm input pin
# The last entry allows you to use closed-loop stepper drivers and motors. When the driver encounters a failed state,
#   it will use this pin to signal to the controller that it should E-Stop or something similarly drastic.
motors:
  - axis: x 
    pul:  C7  od 
    dir:  D0  od 
    ena:  F1  od 
    alm:  G7  pu 
  - axis: y 
    pul:  C13 od 
    dir:  C11 od 
    ena:  F3  od 
    alm:  G9  pu 
  - axis: z 
    pul:  D6  od 
    dir:  C9  od 
    ena:  F5  od 
    alm:  G11 pu 
  - axis: a 
    pul:  D4  od 
    dir:  B1  od 
    ena:  F7  od 
    alm:  G13 pu 
  - axis: b 
    pul:  D2  od 
    dir:  C5  od 
    ena:  F9  od 
    alm:  E10 pu 

# I'm opting to use external 6.8k pull-ups for limit and homing switches instead of the internal 40k pull-ups,
#   but you could easily add 'pu' to these pin definitions to enable the internal ones.
limits:
  - axis:   x
    limit:  E6
  - axis:   y
    limit:  E7
  - axis:   z
    limit:  E8
  - axis:   a
    limit:  E9
  - axis:   b
    limit:  E11

# A list of maps, each having two keys:
#   axis: A reference to one of the axes from the axes section
#   home: A pin definition defining a limit switch
homes:
  - axis:   x
    home:   E6
  - axis:   y
    home:   E7
  - axis:   z
    home:   E8
  - axis:   a
    home:   E9
  - axis:   b
    home:   E11

# Just two output pins in this section, "flood" and "mist", both optional.
coolant:
  flood:   B10 od
  mist:    B11 od

# The ATC module defines a few output pins of its own.
# TODO: The ATC module hasn't been written yet, but this section might include i.e. auxiliary outputs to control
#         linear actuators or any other robotics needed to assist with changing tool bits.
atc:
  release: B14 od
  engage:  B12 ode

# This section has a standard pin for enable and a second optional pin for pwm (speed control).
# It also has a key named "tim" which defines an STM32 timer and channel. E.g.: "tim: TIM10 CH1"
spindle:
  ena:  D15 od
  pwm:  F6
  tim:  TIM10 CH1
